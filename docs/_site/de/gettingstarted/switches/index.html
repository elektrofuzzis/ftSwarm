<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Switches &amp; Buttons -</title>
<meta name="description" content="">


  <meta name="author" content="//The ftSwarm Project">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="">
<meta property="og:title" content="Switches &amp; Buttons">
<meta property="og:url" content="http://localhost:4000/de/gettingstarted/switches/">












  

  


<link rel="canonical" href="http://localhost:4000/de/gettingstarted/switches/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "The ftSwarm Project",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--category wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/img/ftSwarm.svg" alt=""></a>
        
        <a class="site-title" href="/">
          
          
        </a>

        <!-- original stuff 
        <ul class="visible-links"></ul>
        end original stuff-->

        <script>
          function callRef( url ) {
            if ( location.pathname.startsWith('/en/') ) {
              location.href='/en/'+url;
            } else {
              location.href='/de/'+url;
            }
          }
        </script>

        <ul class="visible-links">
          <li class="masthead__menu-item">
            <a href="#" onclick="callRef('gettingstarted/gettingstarted')" title="Tutorial">Tutorial</a>
          </li>
          <li class="masthead__menu-item">
            <a href="#" onclick="callRef('advanced/Configuration')" title="Advanced">Advanced</a>
          </li>
          <li class="masthead__menu-item">
            <a href="#" onclick="callRef('cpp-api/index')" title="api">api</a>
          </li>
          <li class="masthead__menu-item">
            <a href="#" onclick="callRef('faq')" title="FAQ">FAQ</a>
          </li>
        </ul>


        <!-- language picker -->

        <a class="alang" href="#" onclick="location.href=location.href.replace('/de/', '/en/')"><img class="language-picker" src="/assets/img/uk.png"></a>
        <a class="alang" href="#" onclick="location.href=location.href.replace('/en/', '/de/')"><img class="language-picker" src="/assets/img/germany.png"></a>
        
        <!-- language picker -->

        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Tutorial</span>
        

        
        <ul>
          
            <li><a href="/de/gettingstarted/1stftSwarm">ftSwarm</a></li>
          
            <li><a href="/de/gettingstarted/1stftSwarmControl">ftSwarmControl</a></li>
          
            <li><a href="/de/gettingstarted/serial">USB Anschluss</a></li>
          
            <li><a href="/de/gettingstarted/WebUI">WLAN & Statusseite</a></li>
          
            <li><a href="/de/gettingstarted/ide">Installation IDE</a></li>
          
            <li><a href="/de/gettingstarted/MotorSwitch">Das erste Programm</a></li>
          
            <li><a href="/de/gettingstarted/kelda">Das Kelda Prinzip</a></li>
          
            <li><a href="/de/gettingstarted/MotorSwitchSwarm">Ein erster Schwarm</a></li>
          
            <li><a href="/de/gettingstarted/switches">Switches & Buttons</a></li>
          
            <li><a href="/de/gettingstarted/MotorSwitchAlias">Alias Namen</a></li>
          
            <li><a href="/de/gettingstarted/RemoteControl">Fernbedienung</a></li>
          
            <li><a href="/de/gettingstarted/EventControlled">Events</a></li>
          
            <li><a href="/de/gettingstarted/FtSwarmPixel">RGB LEDs & FtSwarmPixel</a></li>
          
            <li><a href="/de/gettingstarted/FtSwarmOLED">OLED Display</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <div class="archive">
    
      <h1 id="page-title" class="page__title">Switches & Buttons</h1>
    
    <p>Es gibt nur einen kleinen Unterschied zwischen Buttons und Switches. Buttons sind die am ftSwarmControl fest verbauten Taster. Switches sind externe, an die Eingänge A1 bis A6 angeschlossene Taster.</p>

<h3 id="normally-closed--normally-open">Normally closed &amp; normally open</h3>

<p><em>fischertechnik</em> mini switches haben 3 Anschlüsse. Im Standard werden Pin 1 und Pin 3 am mini switch angeschlossen. Der Taster ist “normally open”. Beim Drücken des Tasters wird der Schalter geschlossen. Verwendet man Pin  1 &amp; 2 ist der Taster “normally closed” und öffnet beim Tastendruck. Diese Variante ist z.B. bei Notabschaltungen besser, da ein gebrochenes Kabel oder ein schlechter Stecker ebenfalls die Notabschaltung auslöst.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normallyOpen</span>   <span class="o">=</span> <span class="n">FtSwarmSwitch</span><span class="p">(</span> <span class="mi">4711</span><span class="p">,</span> <span class="n">FTSWARM_A1</span> <span class="p">);</span>
<span class="n">normallyClosed</span> <span class="o">=</span> <span class="n">FtSwarmSwitch</span><span class="p">(</span> <span class="mi">4711</span><span class="p">,</span> <span class="n">FTSWARM_A2</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
</code></pre></div></div>

<h3 id="toggles">Toggles</h3>

<p>In den meisten Fällen ist das Signal eines Eingangs bzw. eines Tasters egal, nur der Statuswechsel ist von interesse. Mit</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="n">isReleased</span><span class="p">());</span>
</code></pre></div></div>

<p>kann man aktiv darauf warten, dass der Taster gedrückt wird. Aber durch die Schleife wird ein Core belegt und der Controller kann keine anderen Aktionen ausführen, während er auf den Taster wartet. Die Firmware liest im Hintergrund die Eingänge regelmäßig aus und kann so Statuswechse erkennen. Der Code</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="n">hasToggledUp</span><span class="p">())</span> <span class="n">motor</span><span class="p">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="n">hasToggledDown</span><span class="p">())</span> <span class="n">motor</span><span class="p">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  
  <span class="c1">// use the time and do someting else</span>
</code></pre></div></div>

<p>ist cleverer, da die CPU beim Warten nicht blockiert wird.</p>

<p>Jeder Aufruf der <em>Toggle</em> Befehle setzt den Togglestatus zurück. Zwei two Toggle-Befehle in einer Bedingung</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="n">getToggle</span><span class="p">()</span> <span class="o">!=</span> <span class="n">FTSWARM_NOTOGGLE</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="n">hasToggeledUp</span><span class="p">())</span> <span class="p">)</span> <span class="p">...</span>
</code></pre></div></div>

<p>is always false. Even if <code class="language-plaintext highlighter-rouge">switch.getToggle()</code> returns <code class="language-plaintext highlighter-rouge">FTSWARMTOGGLEUP</code> or <code class="language-plaintext highlighter-rouge">FTSWARMTOGGLEDOWN</code>, the internal toggle state is reseted to <code class="language-plaintext highlighter-rouge">FTSWARM_NOTOGGLE</code>. So <code class="language-plaintext highlighter-rouge">switch.hasToggeledUp()</code> will be always <code class="language-plaintext highlighter-rouge">false</code>.</p>



<div class="entries-list">
  
</div>

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/elektrofuzzis" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://instagram.com/elektrofuzzies" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="mailto:ftpi@gmx.de" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 The ftSwarm Project. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
